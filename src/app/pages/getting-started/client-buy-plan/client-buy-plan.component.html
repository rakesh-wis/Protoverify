<div class="container-fluid page-padding">
	<div class="row justify-content-between ign-items-center">
		<div class="col-lg-3 col-md-4 col-sm-12">
			<h2 class="text-custom-black fs-3 fw-bold">Purchase Plans</h2>
		</div>
	</div>

	<div class="card my-4 plan-card">
		<div class="card-body">
			<div class="row mx-3">
				<div class="col-lg-3 col-md-4 col-sm-6">
					<h3 class="text-black fw-bold mb-0">Plan name</h3>
					<label class="text-custom-black-80">{{ plan?.title }}</label>
				</div>

				<div class="col-lg-3 col-md-4 col-sm-6">
					<h3 class="text-black fw-bold mb-0">Description</h3>
					<span class="text-custom-black-80">{{ plan?.description || '-' }}</span>
				</div>
				<div class="col-lg-3 col-md-4 col-sm-6">
					<h3 class="text-black fw-bold mb-0">Price</h3>
					<div class="d-flex align-items-center">
						<h2 class="text-primary mb-0">â‚¹ {{ plan?.amountPerVerification }}</h2>
						<span class="text-custom-black-80"> / per Verification</span>
					</div>
				</div>
			</div>
			<hr />
			<div class="clearfix my-2 mx-3">
				<h3 class="text-black fw-bold">Items</h3>

				<div class="d-flex align-items-center mb-2 plan-features" *ngFor="let feature of plan?.planFeature">
					<iconify-icon
						class="check-box-icon"
						icon="subway:tick"
						[ngClass]="{
							'check-green': plan?.planFeature.length >= 13,
							'check-blue': plan?.planFeature.length >= 6 && plan.planFeature?.length < 13,
							'check-yellow': plan?.planFeature.length < 6
						}"
					></iconify-icon>
					<p class="text-custom-black-50 text-capitalize mb-1 ps-3">
						{{ getPlanTitle(feature)?.label }}
					</p>
				</div>
			</div>

			<div class="d-flex justify-content-end">
				<button type="button" class="btn btn-outline-primary" (click)="goBack()">Cancel</button>
				<ng-container *ngIf="plan?.connectionType === connectionType.PRE_PAID">
					<app-razorPay-payment
						[amount]="plan?.totalAmount"
						(paymentMade)="onSubmit($event)"
						[orderId]="planId"
						[notes]=""
					>
					</app-razorPay-payment>
				</ng-container>
				<ng-container *ngIf="plan?.connectionType !== connectionType.PRE_PAID">
					<button type="button" class="btn btn-primary ms-4" (click)="createSubscription()">Subscribe</button>
				</ng-container>
			</div>
		</div>
	</div>
</div>
